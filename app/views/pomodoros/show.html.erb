<div class="content-group2">
<div id="milestone">
  <h2> Focus on <%=@milestone.title %> </h2>
</div>

<div id="pomodoro">
  <div id="clock">
    <div id="timer">
      <div id="title">Ready?</div>
      <div id="countdown">
        <span id="minutes">25</span>
        <span id="seconds">00</span>
      </div>
      <div id="controls" class="reset">

        <div id="start">
          <%= simple_form_for @pomodoro, remote: true do |f| %>
            <%= f.input :action, as: :hidden, input_html: { value: 'start' } %>
            <%= button_tag :class => 'btn-tag' do %>
              <i class="fas fa-play"></i> Start
            <% end %>
          <% end %>
        </div>

        <div id="done">
          <%= simple_form_for @pomodoro, remote: true do |f| %>
            <%= f.input :action, as: :hidden, input_html: { value: 'done' } %>
            <%= button_tag :class => 'btn-tag' do %>
              <i class="fas fa-check"></i> I am done
            <% end %>
          <% end %>
        </div>

        <div id="back">
          <%= link_to milestone_path(@milestone, pomodoro_id: @pomodoro.id) do %>
          <i class="fas fa-chevron-circle-left"></i> To journal
          <% end %>
        </div>
       <!--  <div id="pause"><i class="fas fa-pause"></i> Pause</div>
        <div id="reset"><i class="fas fa-sync-alt"></i> Reset</div> -->
      </div>
    </div>
  </div>

  <div id="options">
    <div id="session">
      <span class="option-title">time up</span>
      <i id="incrSession" class="fas fa-angle-double-up"></i>
      <input class="hidden" id="sessionInput" type="number" value="25" max="25" min="25">

      <i id="decrSession" class="fas fa-angle-double-down"></i>
      <span class="option-title" style="margin-top: -3px;">time down</span>
    </div>

    <!-- <div id="break">
      <i id="incrBreak" class="fas fa-angle-double-up"></i>
      <span class="option-title">Break</span>
      <input id="breakInput" type="number" value="5" max="5" min="5">
      <i id="decrBreak" class="fas fa-angle-double-down"></i>
    </div> -->
  </div>
  <div id="note">
  <p> * max time 60 min </p>
</div>
</div>
</div>
<audio loop autoplay src="https://joeweaver.me/codepenassets/freecodecamp/challenges/build-a-pomodoro-clock/forest.mp3"></audio>

<script>
const time = 25;
window.time = time;
const up = document.getElementById("incrSession");
up.addEventListener("click", (event)=> {
  window.time += 1;
  document.getElementById("minutes").innerText = window.time;
  document.getElementById("sessionInput").value = window.time;
});
const down = document.getElementById("decrSession");
down.addEventListener("click", (event)=> {
  window.time -= 1;
  document.getElementById("minutes").innerText = window.time;
  document.getElementById("sessionInput").value = window.time;
});
const start = document.querySelector("#start");
start.addEventListener("click", (event)=> {
  const myAudio = document.querySelector("audio");
  myAudio.play();
  myAudio.pause();
});
</script>

